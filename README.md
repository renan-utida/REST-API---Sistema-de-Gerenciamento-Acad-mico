# ğŸ“š REST API - Sistema de Gerenciamento AcadÃªmico

> Projeto desenvolvido como atividade acadÃªmica da FIAP utilizando Spring Boot, JDBC e Oracle Database.

## ğŸ“‹ DescriÃ§Ã£o

Sistema REST API para gerenciamento de **Alunos** e **Professores** com operaÃ§Ãµes CRUD completas. O projeto implementa uma arquitetura em camadas (Controller â†’ Service â†’ Repository) seguindo boas prÃ¡ticas de desenvolvimento e padrÃµes de design.

---

## ğŸš€ Tecnologias Utilizadas

- **Java 17+**
- **Spring Boot 3.x**
- **Oracle Database** (JDBC)
- **Lombok** (reduÃ§Ã£o de boilerplate)
- **Maven** (gerenciamento de dependÃªncias)
- **Insomnia** (testes de API)

---

## ğŸ“‚ Estrutura do Projeto

```
restapi/
â”œâ”€â”€ src/main/java/com/fiap/restapi/
â”‚   â”œâ”€â”€ RestapiApplication.java          # Classe principal Spring Boot
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ ConnectionFactory.java       # Gerenciamento de conexÃ£o Oracle
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”œâ”€â”€ Aluno.java                   # Entidade Aluno
â”‚   â”‚   â””â”€â”€ Professor.java               # Entidade Professor
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”œâ”€â”€ AlunoRepository.java         # Acesso a dados - Aluno
â”‚   â”‚   â””â”€â”€ ProfessorRepository.java     # Acesso a dados - Professor
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ AlunoService.java            # Regras de negÃ³cio - Aluno
â”‚   â”‚   â””â”€â”€ ProfessorService.java        # Regras de negÃ³cio - Professor
â”‚   â””â”€â”€ controller/
â”‚       â”œâ”€â”€ AlunoController.java         # Endpoints REST - Aluno
â”‚       â””â”€â”€ ProfessorController.java     # Endpoints REST - Professor
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ createTable_Aluno.sql            # DDL tabela ALUNO
â”‚   â””â”€â”€ createTable_Professor.sql        # DDL tabela PROFESSOR
â”œâ”€â”€ Collection_Aluno.json                # Imports do Insomnia
â”œâ”€â”€ Collection_Professor.json            #
â””â”€â”€ Collection_Professor.yaml            # Opcional caso o json do professor nÃ£o rode
```

---

## ğŸ”§ PrÃ©-requisitos

Antes de comeÃ§ar, vocÃª precisa ter instalado:

- [Java JDK 17+](https://www.oracle.com/java/technologies/downloads/)
- [Maven 3.8+](https://maven.apache.org/download.cgi)
- [Oracle Database](https://www.oracle.com/database/) (ou acesso remoto)
- [Insomnia](https://insomnia.rest/download) ou [Postman](https://www.postman.com/downloads/) (para testes)
- IDE de sua preferÃªncia (IntelliJ IDEA, Eclipse, VS Code)

---

## âš™ï¸ ConfiguraÃ§Ã£o do Banco de Dados

### 1. Criar as Tabelas

Execute os scripts SQL no Oracle:

**Tabela ALUNO:**
```sql
CREATE TABLE ALUNO (
    ID     NUMBER(19) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME   VARCHAR2(150) NOT NULL,
    CURSO  VARCHAR2(150) NOT NULL
);
```

**Tabela PROFESSOR:**
```sql
CREATE TABLE PROFESSOR (
    ID           NUMBER(19) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME         VARCHAR2(150) NOT NULL,
    DEPARTAMENTO VARCHAR2(100) NOT NULL,
    EMAIL        VARCHAR2(150) NOT NULL,
    TITULACAO    VARCHAR2(80)
);

CREATE UNIQUE INDEX UK_PROFESSOR_EMAIL ON PROFESSOR(EMAIL);
```

### 2. Configurar VariÃ¡veis de Ambiente

Crie as seguintes variÃ¡veis de ambiente (ou edite diretamente em `ConnectionFactory.java`):

```bash
# Linux/Mac
export ORACLE_URL="jdbc:oracle:thin:@oracle.fiap.com.br:1521:orcl"
export ORACLE_USER="seu_usuario"
export ORACLE_PASSWORD="sua_senha"

# Windows (CMD)
set ORACLE_URL=jdbc:oracle:thin:@oracle.fiap.com.br:1521:orcl
set ORACLE_USER=seu_usuario
set ORACLE_PASSWORD=sua_senha

# Windows (PowerShell)
$env:ORACLE_URL="jdbc:oracle:thin:@oracle.fiap.com.br:1521:orcl"
$env:ORACLE_USER="seu_usuario"
$env:ORACLE_PASSWORD="sua_senha"
```

---

## ğŸƒ Como Executar

### 1. Clonar/Baixar o Projeto

```bash
git clone <url-do-repositorio>
cd restapi
```

### 2. Compilar o Projeto

```bash
mvn clean install
```

### 3. Executar a AplicaÃ§Ã£o

```bash
mvn spring-boot:run
```

Ou execute diretamente pela IDE (Run `RestapiApplication.java`).

**A aplicaÃ§Ã£o estarÃ¡ disponÃ­vel em:** `http://localhost:8080`

---

## ğŸ“¡ Endpoints da API

### **ALUNOS** - Base: `/api/alunos`

| MÃ©todo | Endpoint             | DescriÃ§Ã£o              | Status Codes    |
|--------|----------------------|------------------------|-----------------|
| POST   | `/api/alunos`        | Criar aluno            | 201, 400        |
| GET    | `/api/alunos`        | Listar todos           | 200             |
| GET    | `/api/alunos/{id}`   | Buscar por ID          | 200, 404        |
| PUT    | `/api/alunos/{id}`   | Atualizar aluno        | 200, 400, 404   |
| DELETE | `/api/alunos/{id}`   | Deletar aluno          | 204, 404        |

### **PROFESSORES** - Base: `/api/professores`

| MÃ©todo | Endpoint                 | DescriÃ§Ã£o              | Status Codes    |
|--------|--------------------------|------------------------|-----------------|
| POST   | `/api/professores`       | Criar professor        | 201, 400        |
| GET    | `/api/professores`       | Listar todos           | 200             |
| GET    | `/api/professores/{id}`  | Buscar por ID          | 200, 404        |
| PUT    | `/api/professores/{id}`  | Atualizar professor    | 200, 400, 404   |
| DELETE | `/api/professores/{id}`  | Deletar professor      | 204, 404        |

---

## ğŸ“ Exemplos de RequisiÃ§Ãµes

### **Criar Aluno** (POST)

```bash
curl -X POST http://localhost:8080/api/alunos \
  -H "Content-Type: application/json" \
  -d '{
    "nome": "JoÃ£o Silva",
    "curso": "AnÃ¡lise e Desenvolvimento de Sistemas"
  }'
```

**Response (201 Created):**
```json
{
  "id": 1,
  "nome": "JoÃ£o Silva",
  "curso": "AnÃ¡lise e Desenvolvimento de Sistemas"
}
```

### **Criar Professor** (POST)

```bash
curl -X POST http://localhost:8080/api/professores \
  -H "Content-Type: application/json" \
  -d '{
    "nome": "Ana Silva",
    "departamento": "ComputaÃ§Ã£o",
    "email": "ana.silva@fiap.com.br",
    "titulacao": "Doutora"
  }'
```

**Response (201 Created):**
```json
{
  "id": 1,
  "nome": "Ana Silva",
  "departamento": "ComputaÃ§Ã£o",
  "email": "ana.silva@fiap.com.br",
  "titulacao": "Doutora"
}
```

### **Listar Todos os Alunos** (GET)

```bash
curl http://localhost:8080/api/alunos
```

**Response (200 OK):**
```json
[
  {
    "id": 1,
    "nome": "JoÃ£o Silva",
    "curso": "AnÃ¡lise e Desenvolvimento de Sistemas"
  },
  {
    "id": 2,
    "nome": "Maria Santos",
    "curso": "Engenharia de Software"
  }
]
```

### **Buscar Professor por ID** (GET)

```bash
curl http://localhost:8080/api/professores/1
```

**Response (200 OK):**
```json
{
  "id": 1,
  "nome": "Ana Silva",
  "departamento": "ComputaÃ§Ã£o",
  "email": "ana.silva@fiap.com.br",
  "titulacao": "Doutora"
}
```

### **Atualizar Aluno** (PUT)

```bash
curl -X PUT http://localhost:8080/api/alunos/1 \
  -H "Content-Type: application/json" \
  -d '{
    "nome": "JoÃ£o Pedro Silva",
    "curso": "Engenharia de Software"
  }'
```

### **Deletar Professor** (DELETE)

```bash
curl -X DELETE http://localhost:8080/api/professores/1
```

**Response (204 No Content)**

---

## ğŸ§ª Testando com Insomnia

### Importar Collections

1. Abra o **Insomnia**
2. Clique em **Application** â†’ **Preferences** â†’ **Data** â†’ **Import Data**
3. Selecione o arquivo:
   - `Collection_Aluno.json`
   - `Collection_Professor.json`
4. As collections aparecerÃ£o automaticamente com todas as requisiÃ§Ãµes configuradas

### RequisiÃ§Ãµes DisponÃ­veis

**Collection Alunos:**
- âœ… Listar
- âœ… Buscar
- âœ… Adicionar
- âœ… Atualizar
- âœ… Deletar

**Collection Professores:**
- âœ… Listar
- âœ… Buscar
- âœ… Adicionar
- âœ… Atualizar
- âœ… Deletar

---

## ğŸ—ï¸ Arquitetura em Camadas

### **Controller Layer** (ApresentaÃ§Ã£o)
- Recebe requisiÃ§Ãµes HTTP
- Valida entrada bÃ¡sica
- Retorna cÃ³digos HTTP apropriados
- NÃ£o contÃ©m lÃ³gica de negÃ³cio

### **Service Layer** (NegÃ³cio)
- Implementa regras de negÃ³cio
- Valida dados (formato, tamanho, obrigatoriedade)
- Orquestra chamadas ao Repository
- Trata exceÃ§Ãµes de negÃ³cio

### **Repository Layer** (Dados)
- Acessa o banco de dados (JDBC)
- Executa operaÃ§Ãµes CRUD
- Mapeia ResultSet para objetos Java
- Trata exceÃ§Ãµes SQL

### **Model Layer** (Entidades)
- Define estrutura dos dados
- Usa Lombok para reduzir cÃ³digo
- POJOs simples

---

## ğŸ” ValidaÃ§Ãµes Implementadas

### **Aluno**
- `nome`: obrigatÃ³rio, mÃ¡ximo 150 caracteres
- `curso`: obrigatÃ³rio, mÃ¡ximo 150 caracteres
- `id`: deve ser > 0 para operaÃ§Ãµes de busca/atualizaÃ§Ã£o/remoÃ§Ã£o

### **Professor**
- `nome`: obrigatÃ³rio, mÃ¡ximo 150 caracteres
- `departamento`: obrigatÃ³rio, mÃ¡ximo 100 caracteres
- `email`: obrigatÃ³rio, formato vÃ¡lido (regex), mÃ¡ximo 150 caracteres, Ãºnico no banco
- `titulacao`: opcional, mÃ¡ximo 80 caracteres
- `id`: deve ser > 0 para operaÃ§Ãµes de busca/atualizaÃ§Ã£o/remoÃ§Ã£o

---

## ğŸ› ï¸ Tecnologias e PadrÃµes

### **PadrÃµes de Projeto**
- âœ… **MVC** (Model-View-Controller) adaptado para REST
- âœ… **DAO** (Data Access Object) via Repository
- âœ… **Dependency Injection** (Spring)
- âœ… **Factory Pattern** (ConnectionFactory)

### **Boas PrÃ¡ticas**
- âœ… SeparaÃ§Ã£o de responsabilidades (SoC)
- âœ… SOLID principles
- âœ… RESTful API design
- âœ… Tratamento de exceÃ§Ãµes
- âœ… ValidaÃ§Ã£o de dados
- âœ… Uso de Optional para valores ausentes
- âœ… Try-with-resources para gestÃ£o de recursos

---

## ğŸ“Š Modelo de Dados

### **Diagrama ER Simplificado**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ALUNO       â”‚         â”‚    PROFESSOR     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ID (PK)         â”‚         â”‚ ID (PK)          â”‚
â”‚ NOME            â”‚         â”‚ NOME             â”‚
â”‚ CURSO           â”‚         â”‚ DEPARTAMENTO     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ EMAIL (UNIQUE)   â”‚
                            â”‚ TITULACAO        â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› Troubleshooting

### Erro de ConexÃ£o com Oracle
```
Verifique:
- URL do banco estÃ¡ correta
- Credenciais (usuÃ¡rio/senha) estÃ£o corretas
- Firewall nÃ£o estÃ¡ bloqueando porta 1521
- Oracle estÃ¡ rodando e acessÃ­vel
```

### Erro "Table not found"
```
Execute os scripts SQL:
- createTable_Aluno.sql
- createTable_Professor.sql
```

### Porta 8080 jÃ¡ estÃ¡ em uso
```
Altere a porta no application.properties:
server.port=8081
```

### Lombok nÃ£o funciona na IDE
```
- IntelliJ: Instale plugin "Lombok"
- Eclipse: Adicione lombok.jar como Java Agent
- Habilite "Annotation Processing"
```

---

## ğŸ“š DependÃªncias Maven

```xml
<dependencies>
    <!-- Spring Boot Starter Web -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    
    <!-- Oracle JDBC Driver -->
    <dependency>
        <groupId>com.oracle.database.jdbc</groupId>
        <artifactId>ojdbc8</artifactId>
        <scope>runtime</scope>
    </dependency>
    
    <!-- Lombok -->
    <dependency>
        <groupId>org.projectlombok</groupId>
        <artifactId>lombok</artifactId>
        <optional>true</optional>
    </dependency>
    
    <!-- Spring Boot Starter Test -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-test</artifactId>
        <scope>test</scope>
    </dependency>
</dependencies>
```

---

## ğŸ‘¥ Autores

Projeto desenvolvido como atividade acadÃªmica - FIAP

**Realizado por:**

[<img loading="lazy" src="https://github.com/user-attachments/assets/b4f96f4b-542e-4988-9bc1-b1acf22a41a1" width=115><br><sub>Renan Dias Utida</sub>](https://github.com/renan-utida)

### Linkedin: https://www.linkedin.com/in/renan-dias-utida-1b1228225/

**Link Repositorio:** https://github.com/renan-utida/REST-API---Sistema-de-Gerenciamento-Academico

### Orientado pelo Professor Salatiel Marinho

---

## ğŸ“„ LicenÃ§a

Este projeto foi desenvolvido para fins educacionais.

